name: ${PROJECT_NAME?Not set}

services:
    postgres:
        image: postgres:18
        restart: always
        volumes:
            - pg_data:/var/lib/postgresql/data
        ports:
            - '${POSTGRES_PORT?Not set}:5432'
        environment:
            - PGDATA=/var/lib/postgresql/data
            - POSTGRES_DB=${POSTGRES_DB?Not set}
            - POSTGRES_USER=${POSTGRES_USER?Not set}
            - POSTGRES_PASSWORD=${POSTGRES_PASSWORD?Not set}

    mailcatcher:
        restart: unless-stopped
        image: dockage/mailcatcher:0.9.0
        ports:
            - '1080:1080' # web ui
            - '1025:1025' # smtp

volumes:
    pg_data:
